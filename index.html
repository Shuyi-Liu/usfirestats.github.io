<!DOCTYPE html>
<html>
<head>
	<title>US Fire Administration Fire Statistics</title>
	<script src="https://cdn.jsdelivr.net/npm/vega@5.20.2"></script>
   	<script src="https://cdn.jsdelivr.net/npm/vega-lite@5.1.0"></script>
    	<script src="https://cdn.jsdelivr.net/npm/vega-embed@6.17.0"></script>
<!-- 	<!-- link to main stylesheet -->
<!-- 	<link rel="stylesheet" type="text/css" href="/css/main.css"> -->
</head>
<body>
<!-- 	<nav>
    	<ul>
        	<li><a href="/">Home</a></li>
	        <li><a href="/more">More</a></li>
    	</ul> 
	</nav> -->
	<div class="container">
    	<div class="blurb">
        	<h1>Visualization on US Fire Administration Fire Statistics</h1>
		<p>The dataset is from the <em>US Fire Administration Fire Statistics</em> on data.gov <a href="/more">See more data about fire service...</a></p>
		<p>See Observable notebook: <a href="https://observablehq.com/@shuyi-liu/us-fire-stats">US Fire Stats by shuyi-liu</a></p>
    	</div><!-- /.blurb -->
 	</div><!-- /.container -->
	
	<footer>
    	<ul>
        	<li><a href="https://catalog.data.gov/dataset/us-fire-administration-fire-statistics">data.gov</a></li>
	</ul>
	</footer>
	
	<div id="vis">
    	<script type="text/javascript">
		var yourVlSpec =
		    {
			  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
			  "description": "A dashboard with cross-highlighting.",
			  "data": {
				  "url": "https://raw.githubusercontent.com/Shuyi-Liu/usfirestats.github.io/main/ff_data.csv"
			  },
			  "vconcat": [
			    {
			      "layer": [
				{
				  "mark": "rect",
				  "encoding": {
				    "x": {
				      "field": "Nature_of_death",
				      "type": "ordinal",
				      "axis": {"labelAngle": -40}
				    },
				    "y": {"field": "Cause_of_death", "type": "ordinal"},
				    "color": {
				      "aggregate": "count",
				      "legend": {
					"title": "All Count",
					"direction": "horizontal",
					"gradientLength": 120
				      }
				    }
				  }
				},
				{
				  "transform": [{"filter": {"param": "pts"}}],
				  "mark": "point",
				  "encoding": {
				    "x": {"field": "Nature_of_death", "type": "ordinal"},
				    "y": {"field": "Cause_of_death", "type": "ordinal"},
				    "size": {
				      "aggregate": "count",
				      "legend": {"title": "Selected Category Count"}
				    },
				    "color": {"value": "#666"}
				  }
				}
			      ]
			    },
			    {
			      "width": 330,
			      "height": 120,
			      "mark": "bar",
			      "params": [
				{"name": "pts", "select": {"type": "point", "encodings": ["x"]}}
			      ],
			      "encoding": {
				"x": {"field": "Property_type", "axis": {"labelAngle": -40}},
				"y": {"aggregate": "count"},
				"color": {
				  "condition": {"param": "pts", "value": "steelblue"},
				  "value": "grey"
				}
			      }
			    }
			  ],
			  "resolve": {"legend": {"color": "independent", "size": "independent"}}
			};
		vegaEmbed('#vis', yourVlSpec);
	</script>
	</div>
	
	<div id="vis2">
	<script type="text/javascript">
		var yourVlSpec2 = 
		    {
			  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
			  "data": {
			    "url": "https://raw.githubusercontent.com/Shuyi-Liu/usfirestats.github.io/main/Fire_Hydrants.csv"
			  },
			  "vconcat": [
			    {
			      "width": 480,
			      "mark": {"type": "bar"},
			      "encoding": {
				"x": {
				  "field": "InstallDate",
				  "type": "temporal",
				  "scale": {"domain": {"param": "brush"}},
				  "axis": {"title": ""}
				},
				"y": {"aggregate": "count", "type": "quantitative"}
			      }
			    },
			    {
			      "width": 480,
			      "height": 60,
			      "mark": "bar",
			      "params": [
				{"name": "brush", "select": {"type": "interval", "encodings": ["x"]}}
			      ],
			      "encoding": {
				"x": {"field": "InstallDate", "type": "temporal"},
				"y": {
				  "aggregate": "count",
				  "type": "quantitative",
				  "axis": {"tickCount": 3, "grid": false}
				}
			      }
			    }
			  ]
			};
		vegaEmbed('#vis2', yourVlSpec2);
	</script>
	</div>
	
</body>
</html>
